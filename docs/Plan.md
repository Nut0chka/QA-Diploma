#  План тестирования
### *"Aвтоматизация тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка"*

## Перечень автоматизируемых тестовых сценариев:
### Исходные данные:
- Валидный номер карты: "4444 4444 4444 4441" 
- Невалидный номер карты - "4444 4444 4444 4442"
  Валидные данные: 
 - Поле `"Номер карты"`: Должен состоять из 16 арабских цифр.
 - Поле `"Месяц"`:Должно содержать двухзначное число (от 01 до 12)
 - Поле `"Год"`:Должны содержать данные, не превышающие 5 лет от текущего года, и не менее текущего года
 - Поле `"Имя"`:Должны содержать данные на латинице не менее одной буквы. Допустимые спецсимволы: пробел, дефис.
 - Поле `"CVC/CVV"`:Должно состоять из трёхзначного числа от 001 до 999 включительно

## Позитивные сценарии:
###  Оплата картой №1.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" (оплата картой)
3. В появившихся полях ввести валидные данные, в поле номер карты ввести "4444 4444 4444 4441"
4. Нажать кнопку "Продолжить"

**Ожидаемый результат:**
Появится всплывающее окно об одобрении операции банком. Запись APPROVED в БД.

###  Оплата картой №2.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" (оплата картой)
3. В появившихся полях ввести валидные данные, в поле номер карты ввести "4444 4444 4444 4442"
4. Нажать кнопку "Продолжить"

**Ожидаемый результат:**
Появится всплывающее окно "Ошибка! Банк отказал в проведении операции". Запись DECLINED в БД.

### Покупка в кредит №1:
1. Открыть ссылку http://localhost/8080
2. Нажать на кнопку "Купить в кредит"
3. В появившихся полях ввести валидные данные, в поле номер карты ввести "4444 4444 4444 4441"
4. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**
Появится всплывающее окно об одобрении операции банком. Запись APPROVED в БД.

### Покупка в кредит №2:
1. Открыть ссылку http://localhost/8080
2. Нажать на кнопку "Купить в кредит"
3. В появившихся полях ввести валидные данные, в поле номер карты ввести "4444 4444 4444 4442"
4. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**
Появится всплывающее окно "Ошибка! Банк отказал в проведении операции." Запись DECLINED в БД.

## Негативный сценарии:

Провести сценарий для `Оплата картой`/`Купить в кредит`

### Поле "Номер карты"
 ### № 1.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Номер карты" оставить пустым
4. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**
Под полем "Номер карты" появится сообщение `Неверный формат`

 ### № 2.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Номер карты" ввести 15 символов вместо 16
4. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**
Под полем "Номер карты" появится сообщение `Неверный формат`

 ### № 3.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Номер карты" ввести 18 символов вместо 16
4. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**
Под полем "Номер карты" появится сообщение `Неверный формат`

### Поле "Месяц"
  ### № 1.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Месяц" оставить пустым
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Месяц" появится сообщение `Неверный формат`

 ### № 2.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, в поле "Месяц" ввести значение "00" 
4. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**
Под полем "Месяц" появится сообщение `Неверно указан срок действия карты`

 ### № 3.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, в поле "Месяц" ввести значение "13" 
4. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**
Под полем "Месяц" появится сообщение `Неверно указан срок действия карты`

### Поле "Год"
### № 1.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Год" оставить пустым
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Неверный формат`

### № 2.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Год" ввести (00)
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Истёк срок действия карты`

### № 3.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Год" ввести (55)
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Неверно указан срок действия карты`

### Поле "Владелец"
### № 1.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Владелец" оставить пустым
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Поле обязательно для заполнения`

### № 2.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Владелец" указать только имя
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Неверный формат имени владельца`

### № 3.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Владелец" указать только спецсимволы (&*!)
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Неверный формат имени владельца`

### № 4.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "Владелец" добавить к имени число (23)
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Неверный формат имени владельца`

### Поле "CVC/CVV"
### № 1.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "CVC/CVV" оставить пустым
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Неверный формат`

### № 2.
1. Открыть ссылку http://localhost/8080
2. Нажать кнопку "Купить" 
3. В появившихся полях ввести валидные данные, поле "CVC/CVV" ввести вузначное число
4. Нажать на кнопку "Продолжить"
   
**Ожидаемый результат:**
Под полем "Год" появится сообщение `Неверный формат`

## Перечень используемых инструментов с обоснованием выбора:

- IntelliJ IDEA - IDE для работы с кодом.
- Java - язык программирования.
- Gradle - система автоматизации сборки приложения.
- JUnit5 - фреймворк для модульного тестирования.
- Selenide - фреймворк для написания и выполнения UI тестов.
- Allure Framework – построение детализированных отчетов о тестировании.
- Docker - инструмент для контейнеризации банковских сервисов и БД.
- MySQL, PostgreSQL.
- Git - локальное хранение репозитория.
- GitHub - удаленное хранение репозитория, публикация проекта.

## Перечень и описание возможных рисков при автоматизации:

1. Изменения в коде приведут в падению тестов.
2. Отсутсвует документация на приложение. При тестировании возможно неверное трактование функционала.
3. Большое количество дефектов в функциональности приложения.
4. Проблемы с тестовым окружением.
5. Неверные тестовые данные.
6. Использования двух СУБД.
   
##  Интервальная оценка с учётом рисков в часах;

Ориентировочно, 120 рабочих часов.

## План сдачи работ: когда будут готовы автотесты, результаты их прогона:

1. Готовность авто-тестов — через 5 рабочих дней после утверждения плана тестирования;
2. Подготовка отчетов по результатам прогона тестов — в течение 3 рабочих дня после прогона тестов;
3. Плановый срок сдачи работы - 5 августа.
